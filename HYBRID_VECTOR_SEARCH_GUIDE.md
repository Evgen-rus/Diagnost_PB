# üîÑ –ì–∏–±—Ä–∏–¥–Ω—ã–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫: FAISS + SQLite

## üìã –ß—Ç–æ —Ç–∞–∫–æ–µ –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥?

**–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - —ç—Ç–æ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –¥–≤—É—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞:
- **FAISS** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤
- **SQLite** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ –∏ –±–æ–≥–∞—Ç—ã—Ö –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

## üéØ –ó–∞—á–µ–º –Ω—É–∂–µ–Ω –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥?

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã "—á–∏—Å—Ç–æ–≥–æ" –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞:
```python
# –ï—Å–ª–∏ –≤—Å—ë —Ö—Ä–∞–Ω–∏—Ç—å –≤ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑–µ:
document = {
    "vector": [0.123, -0.456, ...],           # 1536 —á–∏—Å–µ–ª
    "text": "–û—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞...", # –ú–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏!
    "metadata": {...}                         # –ï—â–µ –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö!
}
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- üêå –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (–≤—Å—ë –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏)
- üíæ –û–≥—Ä–æ–º–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- üîÑ –°–ª–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- üìà –ì–∏–≥–∞–Ω—Ç—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏–Ω–¥–µ–∫—Å–æ–≤

### ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
```python
# –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:
FAISS:     [0.123, -0.456, ...]  # –¢–æ–ª—å–∫–æ –≤–µ–∫—Ç–æ—Ä—ã - –ë–´–°–¢–†–û!
–ú–∞–ø–ø–∏–Ω–≥:   {"0": "1_0"}          # –°–≤—è–∑–∫–∏ ID - –ö–û–ú–ü–ê–ö–¢–ù–û!  
SQLite:    "–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç..."      # –ë–æ–≥–∞—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ - –ì–ò–ë–ö–û!
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° **–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫**: FAISS –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤–µ–∫—Ç–æ—Ä–æ–≤
- üíæ **–≠–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏**: –≤–µ–∫—Ç–æ—Ä—ã –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç —Ç–µ–∫—Å—Ç–æ–≤
- üîß **–ì–∏–±–∫–æ—Å—Ç—å SQL**: —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ —Ñ–∏–ª—å—Ç—Ä—ã
- üìä **–ë–æ–≥–∞—Ç—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: –ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã

### üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤:
```
data/
‚îú‚îÄ‚îÄ faiss_index.bin (14.2 –ú–ë)    # üî¢ –í–µ–∫—Ç–æ—Ä—ã: 2306 √ó 1536 —á–∏—Å–µ–ª
‚îú‚îÄ‚îÄ vector_map.json (44.9 –ö–ë)    # üó∫Ô∏è –ú–∞–ø–ø–∏–Ω–≥: FAISS_ID ‚Üí chunk_ID
‚îî‚îÄ‚îÄ .gitkeep

–∫–æ—Ä–µ–Ω—å/
‚îî‚îÄ‚îÄ knowledge_base_v2.db         # üìù SQLite: —Ç–µ–∫—Å—Ç—ã + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
```

### üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:
```mermaid
graph LR
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> B[–ó–∞–ø—Ä–æ—Å: "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞"]
    B --> C[OpenAI Embedding]
    C --> D[FAISS –ø–æ–∏—Å–∫]
    D --> E[vector_map.json]
    E --> F[SQLite –∑–∞–ø—Ä–æ—Å]
    F --> G[–ü–æ–ª–Ω—ã–µ —Ç–µ–∫—Å—Ç—ã]
    G --> H[–û—Ç–≤–µ—Ç —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º]
```

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ (–ø–æ—à–∞–≥–æ–≤–æ)

### –®–∞–≥ 1: üéØ –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞
```python
# –ó–∞–ø—Ä–æ—Å: "–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞?"
query_embedding = get_embedding_openai("–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞?")
# –†–µ–∑—É–ª—å—Ç–∞—Ç: [0.444, -0.123, 0.888, ...] (1536 —á–∏—Å–µ–ª)
```

### –®–∞–≥ 2: üîç –ü–æ–∏—Å–∫ –≤ FAISS –∏–Ω–¥–µ–∫—Å–µ
```python
# FAISS –∏—â–µ—Ç –ø–æ—Ö–æ–∂–∏–µ –≤–µ–∫—Ç–æ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—è –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ
similarities, indices = vector_store.search(query_embedding, top_k=3)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: 
# similarities = [0.892, 0.876, 0.863]  # –ë–æ–ª—å—à–µ = –ª—É—á—à–µ
# indices = [567, 1203, 89]
```

### –®–∞–≥ 3: üó∫Ô∏è –ú–∞–ø–ø–∏–Ω–≥ FAISS ID ‚Üí chunk ID
```python
# –ü–µ—Ä–µ–≤–æ–¥–∏–º FAISS ID –≤ chunk ID —á–µ—Ä–µ–∑ vector_map.json
faiss_ids = [567, 1203, 89]
chunk_ids = []

for faiss_id in faiss_ids:
    chunk_id = vector_store.vector_map.get(str(faiss_id))
    chunk_ids.append(chunk_id)
# –†–µ–∑—É–ª—å—Ç–∞—Ç: chunk_ids = ["58_0", "70_12", "70_13"]
```

### –®–∞–≥ 4: üìö –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ –∏–∑ SQLite
```python
# SQL –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
cursor.execute(
    f"SELECT * FROM chunks WHERE chunk_id IN (?, ?, ?)",
    chunk_ids
)

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
chunks = [
    {
        'chunk_id': '58_0',
        'document_id': 58,
        'doc_type_short': '–°–¢–û',
        'chunk_text': '–° —Ü–µ–ª—å—é –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...',
        'similarity': 0.892  # –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ
    },
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–∞–Ω–∫–∏
]
```

### –®–∞–≥ 5: üìù –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
```python
# –û–±—ä–µ–¥–∏–Ω—è–µ–º –Ω–∞–π–¥–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è GPT
context = """
--- –ö–û–ù–¢–ï–ö–°–¢ –ò–ó –ë–ê–ó–´ –ó–ù–ê–ù–ò–ô ---

–î–æ–∫—É–º–µ–Ω—Ç: 58 (–°–¢–û)
–° —Ü–µ–ª—å—é –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä—É–±–æ–ø—Ä–æ–≤–æ–¥–æ–≤...

–î–æ–∫—É–º–µ–Ω—Ç: 70 (–°–¢–û)  
–î–∏–∞–≥–Ω–æ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–æ–≤ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–∞—Å—Ç–æ—è—â–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏...

--- –ö–û–ù–ï–¶ –ö–û–ù–¢–ï–ö–°–¢–ê ---
"""
```

## üíª –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –ø–æ–∏—Å–∫–∞:
```python
def hybrid_search_example(query: str):
    """
    –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
    """
    print(f"üîç –ü–æ–∏—Å–∫: '{query}'")
    
    # 1. –°–æ–∑–¥–∞–µ–º —ç–º–±–µ–¥–¥–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–∞
    print("1Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–∞...")
    query_embedding = get_embedding_openai(query)
    print(f"   ‚úÖ –í–µ–∫—Ç–æ—Ä —Ä–∞–∑–º–µ—Ä–æ–º {len(query_embedding)}")
    
    # 2. –ü–æ–∏—Å–∫ –≤ FAISS
    print("2Ô∏è‚É£ –ü–æ–∏—Å–∫ –≤ FAISS...")
    distances, indices = vector_store.search(query_embedding, top_k=3)
    print(f"   ‚úÖ –ù–∞–π–¥–µ–Ω–æ {len(indices[0])} –ø–æ—Ö–æ–∂–∏—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤")
    
    # 3. –ú–∞–ø–ø–∏–Ω–≥ ID
    print("3Ô∏è‚É£ –ú–∞–ø–ø–∏–Ω–≥ FAISS ‚Üí chunk ID...")
    faiss_ids = indices[0].tolist()
    chunk_ids = []
    for faiss_id in faiss_ids:
        chunk_id = vector_store.vector_map.get(str(faiss_id))
        if chunk_id:
            chunk_ids.append(chunk_id)
    print(f"   ‚úÖ –ù–∞–π–¥–µ–Ω–æ chunk_ids: {chunk_ids}")
    
    # 4. –ó–∞–ø—Ä–æ—Å –∫ SQLite
    print("4Ô∏è‚É£ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –∏–∑ SQLite...")
    conn = sqlite3.connect('knowledge_base_v2.db')
    chunks = get_chunks_by_ids(conn, chunk_ids)
    print(f"   ‚úÖ –ü–æ–ª—É—á–µ–Ω–æ {len(chunks)} –ø–æ–ª–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤")
    
    # 5. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    print("5Ô∏è‚É£ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã:")
    for i, chunk in enumerate(chunks, 1):
        similarity = chunk.get('similarity', 0)
        relevance_percent = round(similarity * 100, 1)
        doc_id = chunk.get('document_id', 'N/A')
        doc_type = chunk.get('doc_type_short', 'N/A')
        text_preview = chunk.get('chunk_text', '')[:80] + "..."
        
        print(f"   {i}. –°—Ö–æ–¥—Å—Ç–≤–æ: {similarity:.3f} ({relevance_percent}%)")
        print(f"      –î–æ–∫—É–º–µ–Ω—Ç: {doc_id} ({doc_type})")
        print(f"      –¢–µ–∫—Å—Ç: {text_preview}")
    
    conn.close()
```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ö—Ä–∏—Ç–µ—Ä–∏–π | –¢–æ–ª—å–∫–æ FAISS | –¢–æ–ª—å–∫–æ SQLite | **–ì–∏–±—Ä–∏–¥–Ω—ã–π** |
|----------|---------------|---------------|---------------|
| **–°–∫–æ—Ä–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞** | üöÄ –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ | üêå –ú–µ–¥–ª–µ–Ω–Ω–æ | ‚ö° –ë—ã—Å—Ç—Ä–æ |
| **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏** | üíæ –ú–Ω–æ–≥–æ | üíæ –ú–∞–ª–æ | üíæ –°—Ä–µ–¥–Ω–µ |
| **–ë–æ–≥–∞—Ç—Å—Ç–≤–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö** | ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ | ‚úÖ –ü–æ–ª–Ω–æ–µ | ‚úÖ –ü–æ–ª–Ω–æ–µ |
| **–ì–∏–±–∫–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤** | ‚ùå –¢–æ–ª—å–∫–æ –≤–µ–∫—Ç–æ—Ä—ã | ‚úÖ SQL | ‚úÖ –í–µ–∫—Ç–æ—Ä—ã + SQL |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | üü¢ –ü—Ä–æ—Å—Ç–∞—è | üü° –°—Ä–µ–¥–Ω—è—è | üü° –°—Ä–µ–¥–Ω—è—è |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** | üü° –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ RAM | ‚úÖ –•–æ—Ä–æ—à–∞—è | ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è |

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–∏–±—Ä–∏–¥–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ SQLite
```bash
python load_excel_to_vectordb.py
```
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ß–∏—Ç–∞–µ—Ç `database_v1.xlsx` 
- –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É `chunks` –≤ `knowledge_base_v2.db`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç—ã —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ FAISS –∏–Ω–¥–µ–∫—Å–∞
```bash
python build_faiss_index.py
```
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ß–∏—Ç–∞–µ—Ç —Ç–µ–∫—Å—Ç—ã –∏–∑ SQLite
- –°–æ–∑–¥–∞–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ —á–µ—Ä–µ–∑ OpenAI API
- –°—Ç—Ä–æ–∏—Ç FAISS –∏–Ω–¥–µ–∫—Å
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –º–∞–ø–ø–∏–Ω–≥ ID

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ
```python
# –í bot.py –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
vector_store = FAISSVectorStore()
vector_store.load_index()  # –ó–∞–≥—Ä—É–∂–∞–µ—Ç FAISS + –º–∞–ø–ø–∏–Ω–≥

# –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
context = get_context_for_query(user_query, vector_store, conn)
```

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥?

### ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞:
- üî¢ –ë–æ–ª—å—à–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (1000+ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤)
- üìä –ù—É–∂–Ω—ã –±–æ–≥–∞—Ç—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- üîç –¢—Ä–µ–±—É–µ—Ç—Å—è –±—ã—Å—Ç—Ä—ã–π —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
- üíæ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å
- üîß –ù—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ SQL-–∑–∞–ø—Ä–æ—Å—ã

### ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞:
- üìÑ –ú–∞–ª–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (< 100)
- üöÄ –ù—É–∂–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å—Ç–æ—Ç–∞
- üí∞ –û–≥—Ä–∞–Ω–∏—á–µ–Ω –±—é–¥–∂–µ—Ç –Ω–∞ OpenAI API
- üîÑ –ß–∞—Å—Ç—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

## üèÜ –ù–∞—à–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **‚ö° –ü–æ–∏—Å–∫**: < 100 –º—Å –¥–ª—è 2306 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **üíæ –ü–∞–º—è—Ç—å**: 14.2 –ú–ë FAISS + 45 –ö–ë –º–∞–ø–ø–∏–Ω–≥
- **üéØ –¢–æ—á–Ω–æ—Å—Ç—å**: –í—ã—Å–æ–∫–∞—è –±–ª–∞–≥–æ–¥–∞—Ä—è OpenAI embeddings
- **üìä –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ**: 13 —Ç–∏–ø–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, 80 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### üéÆ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
```python
# –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –Ω–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã:
python test_vector_search.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –í–µ–∫—Ç–æ—Ä–Ω—ã–π –∏–Ω–¥–µ–∫—Å –∑–∞–≥—Ä—É–∂–µ–Ω
# üìä –ù–∞–π–¥–µ–Ω–æ 2306 —á–∞–Ω–∫–æ–≤ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
# üîç –ó–∞–ø—Ä–æ—Å: '–ß—Ç–æ —Ç–∞–∫–æ–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞?'
#    1. –†–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å: 0.446 (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 1.242)
#       –î–æ–∫—É–º–µ–Ω—Ç: 58 (–°–¢–û)
#       –¢–µ–∫—Å—Ç: –° —Ü–µ–ª—å—é –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...
```

## üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤

### üéØ –ù–∞—á–Ω–∏—Ç–µ —Å –ø–æ–Ω–∏–º–∞–Ω–∏—è:
1. **–í–µ–∫—Ç–æ—Ä—ã** - —ç—Ç–æ —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å–º—ã—Å–ª–∞ —Ç–µ–∫—Å—Ç–∞
2. **FAISS** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤  
3. **SQLite** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
4. **–ú–∞–ø–ø–∏–Ω–≥** - —Å–≤—è–∑—å –º–µ–∂–¥—É –≤–µ–∫—Ç–æ—Ä–∞–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏

### üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —à–∞–≥–∏:
1. –ò–∑—É—á–∏—Ç–µ —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ `data/`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `test_vector_search.py`
3. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–¥ –≤ `utils/vector_search.py`
4. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å —Ä–∞–∑–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏

### üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –∏–∑—É—á–µ–Ω–∏–µ:
- **FAISS –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: https://github.com/facebookresearch/faiss
- **OpenAI Embeddings**: https://platform.openai.com/docs/guides/embeddings
- **SQLite tutorial**: https://www.sqlite.org/lang.html

---

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ **FAISS + SQLite** –¥–∞–µ—Ç –Ω–∞–º:
- üöÄ **–°–∫–æ—Ä–æ—Å—Ç—å** –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- üìä **–ë–æ–≥–∞—Ç—Å—Ç–≤–æ** —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö  
- üíæ **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏
- üîß **–ì–∏–±–∫–æ—Å—Ç—å** –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å—é –≤ –±—ã—Å—Ç—Ä–æ–º —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º –ø–æ–∏—Å–∫–µ! 